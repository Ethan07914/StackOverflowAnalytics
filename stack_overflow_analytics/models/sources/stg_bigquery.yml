version: 2

models:
  - name: stg_bigquery__posts_questions
    description: 'posts questions table with only necessary columns'
    columns:
      - name: id
        description: 'The primary key for this table'
        data_tests:
          - unique
          - not_null
      - name: creation_date
        description: 'When the question was initially posted'
        data_tests:
            - not_null
  - name: stg_bigquery__tags
    description: 'tags table with only necessary columns'
    columns:
      - name: id
        description: 'The primary key for this table'
        data_tests:
          - unique
          - not_null
      - name: tag_name
        description: 'The name of the tag'
        data_tests:
            - not_null
  - name: stg_bigquery__post_links
    description: 'post links table with only necessary columns'
    columns:
      - name: id
        description: 'The primary key for this table'
        data_tests:
          - not_null
          - unique
      - name: creation_date
        description: 'When the link was published to the site'
        data_tests:
          - not_null
      - name: post_id
        description: 'Foreign key for this table, the post that the link is attached to'
        data_tests:
          - not_null
#          - relationships:
#                arguments:
#                    to: stg_bigquery__posts_questions
#                    on: id
#This tests raises a TypeError: '<' not supported between instances of 'bool' and 'str', I'm not sure why



